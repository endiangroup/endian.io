<script defer="true" src="/js/knockout.min.js"></script>
<script defer="true" src="/js/caa/caa-server.js?v={{ getenv "GITHASH" }}"></script>

<div id="caa">
	<div class="grid-x">
		<div class="cell small-1">
			<div class="grid-y controls">
				<div class="cell no-padding small-3">
					<h4>Master: <strong data-bind="text: caa.master()">0</strong></h4>
				</div>
				<div class="cell no-padding small-3">
					<button data-bind="click: issue" type="button" class="button issue large">
						<strong>+ Issue</strong>
					</button>
				</div>
				<div class="cell no-padding small-3">
					<div class="input-group">
						<span class="input-group-label">Window size:</span>
						<input class="input-group-field" type="number" data-bind="value: delta" value="3">
					</div>
				</div>
				<div class="cell no-padding small-3">
					<div class="input-group">
						<div class="input-group-button">
							<button data-bind="click: revoke, clickBubble: false, enable: hasIssued" type="button" class="button revoke large" disabled>
								<strong>- Revoke</strong>
							</button>
						</div>
						<input class="input-group-field" type="number" data-bind="value: revokeN, clickBubble: false" value="3"></input>
					</div>
				</div>
				<div class="cell no-padding small-3">
					<div class="switch large">
						<input class="switch-input" id="lock-unlock" type="checkbox" data-bind="checked: isLocked, enable: hasIssued" disabled>
						<label class="switch-paddle" for="lock-unlock">
							<span class="switch-active" aria-hidden="true">Unlock</span>
							<span class="switch-inactive" aria-hidden="true">Lock</span>
						</label>
					</div>
				</div>
			</div>
		</div>
		<div class="cell small-3 results">
			<h4>Valid</h4>
			<ul class="valid" data-bind="foreach: validSessions.reversed()">
				<li>
					<strong data-bind="text: caa"></strong>
				</li>
			</ul>
		</div>
		<div class="cell small-8 results">
			<h4>Invalid</h4>
			<ul class="invalid" data-bind="foreach: invalidSessions.reversed()">
				<li>
					<strong data-bind="text: caa"></strong>
				</li>
			</ul>
		</div>
	</div>
</div>
